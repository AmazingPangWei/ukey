#### 2018/12/1

*ajax判断email存不存在*：  

`请求/user/ifuserexist，数据类型：ajax/json，接受参数：email  返回：key:result  value:true代表存在，false代表不存在`

*用户注册*:  

`请求/user/signin，数据类型：ajax/json post请求，接受参数：email，password   返回：key:result  value:true代表成功，false代表失败  `

#### 2018/12/2

*更改密码请求：*   

 `请求/user/passwd，数据类型：ajax/json，接受参数：email   返回：key:result value:true代表发出邮件，请求成功，false：代表失败`

*通过验证，提交新密码:*  

`请求/user/chpasswd，数据类型：ajax/json ，接受参数：newPassword  返回：key:result value:true代表成功修改密码，false代表修改密码失败`

#### 2018/12/4

*登录请求：*  

`请求/user/login，数据类型：ajax/json,post请求，接受参数：email , password 返回：key:result value:online代表用户已经在线，不能再登录。passwordError代表用户密码错误。noUser代表没有这个用户。right代表没问题，可以登录。`

#### 2018/12/6

*更新用户信息*：

`请求/user/updateUser，数据类型ajax/json，接受参数：user对象数据(必须有uid) ，返回key:result value：true代表成功更新，false代表更新失败`

*获取主页最新信息，每种动态5条：*

`请求/indexInit , 用户数据ajax/json，接受参数：无 ，返回：`

| key        | value                       |
| ---------- | :-------------------------- |
| dynamic    | 5个关于动态的post链表       |
| lost       | 5个关于丢失物品的post链表   |
| partner    | 5个关于寻找合伙人的post链表 |
| job        | 5个关于兼职的post链表       |
| secondHand | 5个关于二手交易的post链表   |
| study      | 5个关于学习交流的post链表   |
| game       | 5个关于游戏交流的post链表   |

post对象属性有：

| 变量名   | 描述     |
| -------- | -------- |
| pid      | 帖子id   |
| class_id | 分类Id   |
| uid      | 发帖人id |
| title    | 帖子标题 |
| message  | 具体内容 |
| reading  | 阅读量   |
| date     | 发布日期 |
| user     | User对象 |

#### 2018/12/10

用户发帖：

`请求/post/insertPost，数据类型：ajax/json，接受参数：class_id帖子分类，uid用户id，title帖子主题，message帖子内容。返回：key:result value:true成功，false失败`

列出帖子：

`请求/post/listPost，数据类型：ajax/json，接受参数：class_id帖子分类，page当前页数。返回：成功时，返回posts---list<Post>，tops---list<Post>置顶贴,total---总的帖子数。失败时，返回null`

用户回帖：

`请求/reply/insertReply，数据类型：ajax/json，接受参数：uid用户id，pid帖子id,message回复内容。返回key：result,value:成功时返回true，失败时返回false`



### 2019/1/7

获得学院信息：

`请求/school/listSchool，数据类型：ajax/json，接受参数：无   返回：List<School>  其中School对象参数为: schoolid---学院ID  sname---学院名称`

获得帖子回复及评论：

`请求/reply/listReply，数据类型：ajax/json，接受参数：pid---帖子id，page---当前页数   返回：tatalReply---总页数   listReply---List<Reply>`

Reply对象如下：

| 参数     | 类型          | 说明                       |
| -------- | ------------- | -------------------------- |
| rid      | int           | 回复id                     |
| uid      | int           | 回复的用户id               |
| pid      | int           | 回复的帖子id               |
| message  | String        | 回复的内容                 |
| date     | String        | 回复时间                   |
| comments | List<Comment> | 对该条回复的评论，内含user |
| user     | User          | User对象，记录用户信息     |

#### 2019/1/8

删除某一条帖子：

`请求/post/deletePost，数据类型：ajax/json，请求参数：pid---帖子id    返回：key：result  value：NoParameter---无pid参数   NoUser---无用户  NoAuthority---无权限   success---删除成功 `  

#### 2019/1/9

插入一条置顶：

`请求/post/insertTop，数据类型：ajax/json，请求参数：pid---帖子id   返回：key：result  value：   error---错误  NoAuthority---无权限   success---插入成功`

删除一条置顶：

`请求/post/deleteTop，数据类型：ajax/json，请求参数：pid---帖子id   返回：key：result  value：   error---错误  NoAuthority---无权限   success---删除成功`

获取用户信息：

`请求/user/userInfo，数据类型：ajax/json，请求参数：uid---用户id   返回：user对象转成json`

news页面代码

| 代码号code | 提醒           |
| ---------- | -------------- |
| 1          | 注册成功       |
| 2          | 密码修改成功   |
| 3          | 发生未知错误   |
| 4          | 上传头像失败！ |
| 5          | 退出账号成功   |

#### 2019/1/10

获取当前已经登录的用户：

`请求/user/nowUser，数据类型:ajax/json，请求参数：无 返回:如果有登录用户返回User信息,如果无登录用户，返回null`

模糊查询帖子：

<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
`请求/post/searchPost，数据类型：ajax/json，请求参数： words---搜索词   返回：List<Post>对应的json字符串 `
=======
`请求/post/searchPost，数据类型：ajax/json，请求参数：words---搜索词   返回：List<Post>对应的json字符串 `
>>>>>>> 8500930025aac25615aa593d6786ff552ffe89c9
=======
`请求/post/searchPost，数据类型：ajax/json，请求参数：class_id---帖子类别   words---搜索词   返回：List<Post>对应的json字符串 `
>>>>>>> parent of 8500930... Update 前后端交互.md
=======
`请求/post/searchPost，数据类型：ajax/json，请求参数：class_id---帖子类别   words---搜索词   返回：List<Post>对应的json字符串 `
>>>>>>> parent of 8500930... Update 前后端交互.md

#### 2019/1/11

插入一条评论：

`请求/comment/insertComment，数据类型：ajax/json，请求参数：rid---回复的id   c_uid---评论的用户的id   message---评论内容  返回：result---true 或者 false `

#### 2019/1/14

退出登录：

`请求/user/logout，数据类型：ajax/json,请求参数：无，返回：key-result,value:true---成功/false---失败`

已登录用户修改密码：

`请求/user/chpasswdByUser，数据类型:ajax/json，请求参数：oldPassword,newPassword ，返回:key---result   value---true/false`